(function(e){function t(t){for(var a,o,i=t[0],c=t[1],u=t[2],d=0,f=[];d<i.length;d++)o=i[d],r[o]&&f.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(f.length)f.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},s=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/nem2-sdk-wallet-vue-sample/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"106f":function(e,t,n){},3:function(e,t){},4:function(e,t){},5:function(e,t){},"51e1":function(e,t,n){},"5c0b":function(e,t,n){"use strict";var a=n("106f"),r=n.n(a);r.a},6:function(e,t){},"6d1e":function(e,t,n){"use strict";var a=n("51e1"),r=n.n(a);r.a},7:function(e,t){},"9cf3":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="9cf3"},cd49:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("v-app",[n("v-toolbar",[n("v-toolbar-title",[e._v("NEM2 SDK Wallet Vue Sample")])],1),n("main",[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm1":""}},[n("v-container",{attrs:{fluid:""}},[n("router-view")],1)],1)],1)],1)],1)},s=[],o=(n("5c0b"),n("2877")),i={},c=Object(o["a"])(i,r,s,!1,null,null,null),u=c.exports,l=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"demo"},[n("h1",[e._v("This is a demo page")]),n("div",[e._v("Input Ctapult Address")]),n("input",{domProps:{value:e.address}}),n("button",[e._v("Get transactions")])])},f=[],p=a["default"].extend({data:function(){return{address:"hello"}}}),v=p,m=Object(o["a"])(v,d,f,!1,null,null,null),h=m.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("Wallet")],1)},g=[],w=n("c665"),y=n("dc0a"),_=n("d328"),O=n("11d9"),x=n("9ab4"),A=n("60a3"),j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wallet"},[""!=e.address?n("div",[n("h2",{staticClass:"mt-5 mb-2"},[e._v("アカウント情報")]),n("p",[e._v("アドレス："+e._s(e.address))]),n("p",[e._v("\n          残高："+e._s(e.balance)+" xem\n          "),n("v-btn",{attrs:{fab:"",small:"",flat:"",loading:e.isLoading},on:{click:function(t){e.getBalance()}}},[n("v-icon",[e._v("cached")])],1)],1),e._l(e.validation,function(t,a){return n("div",{key:a,staticClass:"errorLabel"},[!0!==t?n("div",[e._v(e._s(t))]):e._e()])}),n("h2",{staticClass:"mt-5 mb-2"},[e._v("送金")]),n("v-text-field",{attrs:{label:"送金先",counter:40,required:"",placeholder:"例. NBHWRG6STRXL2FGLEEB2UOUCBAQ27OSGDTO44UFC"},model:{value:e.toAddress,callback:function(t){e.toAddress=t},expression:"toAddress"}}),n("v-text-field",{attrs:{label:"XEM",type:"number",required:""},model:{value:e.toAmount,callback:function(t){e.toAmount=t},expression:"toAmount"}}),n("v-text-field",{attrs:{label:"メッセージ",counter:1024,placeholder:"例. ありがとう"},model:{value:e.toMessage,callback:function(t){e.toMessage=t},expression:"toMessage"}}),n("v-flex",[n("v-btn",{staticClass:"white--text",attrs:{color:"blue"},on:{click:function(t){e.tapSend()}}},[e._v("XEMを送金する")])],1),n("h2",{staticClass:"mt-5 mb-2"},[e._v("送金結果")]),""!=e.successMessage?n("div",[n("v-alert",{attrs:{value:!0,type:"success"}},[e._v("\n          成功："+e._s(e.successMessage)+"\n          ")])],1):e._e(),""!=e.errorMessage?n("div",[n("v-alert",{attrs:{value:!0,type:"error"}},[e._v("\n          失敗："+e._s(e.errorMessage)+"\n          ")])],1):e._e()],2):n("div",[n("div",{staticClass:"mt-5 ml-5"},[n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1),n("p",{staticClass:"mt-5"},[e._v("ウォレット情報を作成または取得中...")])])])},M=[],k=n("c93e"),E=(n("c5f6"),n("ac6a"),n("96cf"),n("3040")),T=n("aa9a"),S=n("2f62"),R=function(e){function t(){var e;return Object(w["a"])(this,t),e=Object(_["a"])(this,Object(O["a"])(t).apply(this,arguments)),e.isLoading=!1,e.toAmount=0,e.toAddress="",e.toMessage="",e.validation=[],e}return Object(T["a"])(t,[{key:"created",value:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("wallet/loadOrCreateWallet");case 2:this.getBalance();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,this.$store.dispatch("wallet/getBalance",this.$store.state.wallet.address);case 3:this.isLoading=!1;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"tapSend",value:function(){if(!0===this.isValidation()){var e={toAddress:this.toAddress,toAmount:this.toAmount,toMessage:this.toMessage,privateKey:this.$store.state.wallet.privateKey};this.$store.dispatch("wallet/sendXem",e)}}},{key:"isValidation",value:function(){this.validation=[],this.validation.push(this.$data.rules.senderAddrLimit(this.toAddress)),this.validation.push(this.$data.rules.senderAddrInput(this.toAddress)),this.validation.push(this.$data.rules.amountLimit(this.toAmount)),this.validation.push(this.$data.rules.amountInput(this.toAmount)),this.validation.push(this.$data.rules.messageRules(this.toMessage));var e=!1;return this.validation.forEach(function(t){!0!==t&&(e=!0)}),!e}}]),Object(y["a"])(t,e),t}(A["b"]);R=x["a"]([Object(A["a"])({data:function(){return{rules:{senderAddrLimit:function(e){return e&&(46===e.length||40===e.length)||"送金先アドレス(-除く)は40文字です。"},senderAddrInput:function(e){var t=/^[a-zA-Z0-9-]+$/;return t.test(e)||"送金先の入力が不正です"},amountLimit:function(e){return e>=0||"数量を入力してください"},amountInput:function(e){var t=/^[0-9.]+$/;return t.test(e)&&!isNaN(Number(e))||"数量の入力が不正です"},messageRules:function(e){return e.length<=1024||"メッセージの最大文字数が超えています。"}}}},computed:Object(k["a"])({},Object(S["b"])({address:"wallet/address",balance:"wallet/balance",successMessage:"wallet/message",errorMessage:"wallet/error"}))})],R);var $=R,C=$,N=(n("6d1e"),Object(o["a"])(C,j,M,!1,null,"6df0dad8",null)),I=N.exports,L=function(e){function t(){return Object(w["a"])(this,t),Object(_["a"])(this,Object(O["a"])(t).apply(this,arguments))}return Object(y["a"])(t,e),t}(A["b"]);L=x["a"]([Object(A["a"])({components:{Wallet:I}})],L);var W=L,P=W,B=Object(o["a"])(P,b,g,!1,null,null,null),K=B.exports;a["default"].use(l["a"]);var F=new l["a"]({routes:[{path:"/",name:"home",component:K},{path:"/demo",name:"demo",component:h}]}),X=n("ce5b"),D=n.n(X),H=(n("6b54"),n("db6a")),J=n("a6c5"),U=n("5670"),G=n("a002"),V=n("bc3a"),q=n.n(V),z="http://catapult48gh23s.xyz:3000",Q="wallet",Z={namespaced:!0,state:{address:"",privateKey:"",balance:0,message:"",error:""},getters:{address:function(e){return e.address},balance:function(e){return e.balance},message:function(e){return e.message},error:function(e){return e.error}},mutations:{setWallet:function(e,t){e.address=t.address,e.privateKey=t.privateKey},setBalance:function(e,t){e.balance=t},setMessage:function(e,t){e.message=t},setError:function(e,t){e.error=t}},actions:{loadOrCreateWallet:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t){var n,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.dispatch,a=t.commit,e.next=3,G["getItem"](Q);case 3:r=e.sent,null!==r?a("setWallet",r):n("createWallet");case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),createWallet:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t){var n,a,r,s,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=t.commit,a=new H["Password"]("password"),r=H["SimpleWallet"].create(Q,a,H["NetworkType"].MIJIN_TEST),s=r.encryptedPrivateKey,o={address:r.address.plain(),privateKey:s.decrypt(a)},G["setItem"](Q,o),n("setWallet",o);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getBalance:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t,n){var a,r,s,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=t.commit,r=new H["AccountHttp"](z),s=new H["MosaicHttp"](z),o=new H["NamespaceHttp"](z),i=new H["MosaicService"](r,s,o),i.mosaicsAmountViewFromAddress(H["Address"].createFromRawAddress(n)).pipe(Object(J["a"])(function(e){return e}),Object(U["a"])(function(e){return"nem:xem"===e.fullName()})).subscribe(function(e){a("setBalance",e.amount.lower/Math.pow(10,6))});case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),sendXem:function(e,t){var n=e.commit,a=H["TransferTransaction"].create(H["Deadline"].create(),H["Address"].createFromRawAddress(t.toAddress),[H["XEM"].createRelative(parseFloat(t.toAmount))],H["PlainMessage"].create(t.toMessage),H["NetworkType"].MIJIN_TEST),r=H["Account"].createFromPrivateKey(t.privateKey,H["NetworkType"].MIJIN_TEST),s=r.sign(a),o=new H["TransactionHttp"](z);o.announce(s).subscribe(function(){setTimeout(function(){var e="".concat(z,"/transaction/").concat(s.hash,"/status");q.a.get(e).then(function(e){"unconfirmed"===e.data.group?n("setMessage",e.data.status):n("setError",e.data.status)},function(e){n("setError",e.toString())})},1e3)},function(e){n("setError",e.toString())})}}};a["default"].use(S["a"]);var Y=new S["a"].Store({modules:{wallet:Z}});a["default"].use(D.a),a["default"].config.productionTip=!1,new a["default"]({router:F,store:Y,render:function(e){return e(u)}}).$mount("#app")}});
//# sourceMappingURL=app.c4f5fef6.js.map